# í•´ì–‘ìˆ˜ì‚°ë¶€ í¬ë¡¤ë§ í”„ë¡œì íŠ¸ íˆìŠ¤í† ë¦¬

## í”„ë¡œì íŠ¸ ê°œìš”

**í”„ë¡œì íŠ¸ëª…**: í•´ì–‘ìˆ˜ì‚°ë¶€ ê³µì§€ì‚¬í•­ ìë™ í¬ë¡¤ë§ ë° ëŒ€ì‹œë³´ë“œ ì‹œìŠ¤í…œ
**ê°œë°œ ê¸°ê°„**: 2025ë…„ 11ì›”
**ëª©ì **: í•´ì–‘ìˆ˜ì‚°ë¶€ ì†Œì† 15ê°œ ê¸°ê´€ì˜ ê³µì§€ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ì—¬ Google Sheetsì— ì €ì¥í•˜ê³ , Next.js ëŒ€ì‹œë³´ë“œë¡œ ì‹œê°í™”

### í•µì‹¬ ê¸°ëŠ¥
1. **ìë™ í¬ë¡¤ë§**: GitHub Actionsë¡œ í•˜ë£¨ 4íšŒ ìë™ ì‹¤í–‰ (08ì‹œ, 11ì‹œ, 16ì‹œ, 20ì‹œ)
2. **ë°ì´í„° ì €ì¥**: Google Sheets APIë¥¼ í†µí•œ ìë™ ì—…ë¡œë“œ ë° ì¤‘ë³µ ì œê±°
3. **ì›¹ ëŒ€ì‹œë³´ë“œ**: Next.js 16 ê¸°ë°˜ ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ (Vercel ë°°í¬)
4. **ìŠ¤ë§ˆíŠ¸ í•„í„°**: ë‚ ì§œ/ê²Œì‹œíŒ í”„ë¦¬ì…‹ ê¸°ëŠ¥ìœ¼ë¡œ ë¹ ë¥¸ ê²€ìƒ‰

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
C:\AI\251118/
â”œâ”€â”€ marine_ministry_crawler_final.py    # ë©”ì¸ í¬ë¡¤ëŸ¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ upload_to_gsheet.py                 # Google Sheets ì—…ë¡œë“œ
â”œâ”€â”€ requirements.txt                    # Python ì˜ì¡´ì„±
â”œâ”€â”€ vercel.json                        # Vercel ë°°í¬ ì„¤ì • (ë£¨íŠ¸)
â”œâ”€â”€ README.md                          # í”„ë¡œì íŠ¸ ì„¤ëª…
â”œâ”€â”€ LICENSE                            # MIT ë¼ì´ì„¼ìŠ¤
â”œâ”€â”€ CHANGELOG.md                       # ë³€ê²½ ì´ë ¥
â”œâ”€â”€ CONTRIBUTING.md                    # ê¸°ì—¬ ê°€ì´ë“œ
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ daily-crawling.yml         # GitHub Actions ì›Œí¬í”Œë¡œìš°
â”‚
â”œâ”€â”€ dashboard/                         # Next.js ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ api/sheets/route.ts       # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ dashboard/page.tsx        # ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ layout.tsx                # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx             # ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ FilterBar.tsx             # í•„í„° ì»´í¬ë„ŒíŠ¸ (í”„ë¦¬ì…‹ í¬í•¨)
â”‚   â”‚   â”œâ”€â”€ StatsCards.tsx            # í†µê³„ ì¹´ë“œ
â”‚   â”‚   â””â”€â”€ DataTable.tsx             # ë°ì´í„° í…Œì´ë¸”
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ googleSheets.ts           # Google Sheets API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ filters.ts                # í•„í„°ë§ ë¡œì§
â”‚   â”‚   â””â”€â”€ logger.ts                 # ë¡œê¹… ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ .env.local                    # ë¡œì»¬ í™˜ê²½ ë³€ìˆ˜ (gitignore)
â”‚   â”œâ”€â”€ .env.local.example            # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ package.json                  # Node.js ì˜ì¡´ì„±
â”‚   â”œâ”€â”€ tailwind.config.ts            # Tailwind CSS ì„¤ì •
â”‚   â”œâ”€â”€ tsconfig.json                 # TypeScript ì„¤ì •
â”‚   â””â”€â”€ vercel.json                   # Vercel ì„¤ì • (ëŒ€ì‹œë³´ë“œ)
â”‚
â”œâ”€â”€ docs/                             # ë¬¸ì„œí™”
â”‚   â”œâ”€â”€ reports/                      # ê°œë°œ ì¤‘ê°„ ë³´ê³ ì„œë“¤
â”‚   â”‚   â”œâ”€â”€ DEPLOYMENT_*.md
â”‚   â”‚   â”œâ”€â”€ E2E_TEST_*.md
â”‚   â”‚   â”œâ”€â”€ ERROR_ANALYSIS_*.md
â”‚   â”‚   â”œâ”€â”€ VERCEL_*.md
â”‚   â”‚   â””â”€â”€ ... (20+ ë³´ê³ ì„œ)
â”‚   â””â”€â”€ design/                       # ë””ìì¸ ë¬¸ì„œ
â”‚       â”œâ”€â”€ ì‚¬ìš©ì_í”Œë¡œìš°_ë‹¤ì´ì–´ê·¸ë¨.md
â”‚       â”œâ”€â”€ ì»´í¬ë„ŒíŠ¸_ëª…ì„¸ì„œ.md
â”‚       â””â”€â”€ í•´ì–‘ìˆ˜ì‚°ë¶€_ëŒ€ì‹œë³´ë“œ_UIUX_ì„¤ê³„.md
â”‚
â””â”€â”€ scripts/
    â””â”€â”€ utils/                        # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
        â”œâ”€â”€ test_dependencies.py
        â”œâ”€â”€ verify_secrets.py
        â”œâ”€â”€ read_docs.py
        â””â”€â”€ resize_columns.py
```

---

## ê°œë°œ íˆìŠ¤í† ë¦¬

### Phase 1: í¬ë¡¤ëŸ¬ ê°œë°œ (ì´ˆê¸°)

#### 1.1 í¬ë¡¤ë§ ëŒ€ìƒ ì„ ì •
- í•´ì–‘ìˆ˜ì‚°ë¶€ ì†Œì† **15ê°œ ê¸°ê´€** ì„ ì •
- ê° ê¸°ê´€ë³„ ê²Œì‹œíŒ URL ë° HTML êµ¬ì¡° ë¶„ì„

**í¬ë¡¤ë§ ëŒ€ìƒ ê¸°ê´€:**
1. êµ­ë¦½ìˆ˜ì‚°ê³¼í•™ì›
2. êµ­ë¦½í•´ì–‘ì¡°ì‚¬ì›
3. êµ­ë¦½í•´ì–‘ìƒë¬¼ìì›ê´€
4. í•´ì–‘í™˜ê²½ê³µë‹¨
5. ì„ ë°•ì•ˆì „ê¸°ìˆ ê³µë‹¨
6. í•œêµ­ìˆ˜ì‚°ìì›ê³µë‹¨
7. í•œêµ­í•´ì–‘ìˆ˜ì‚°ì—°ìˆ˜ì›
8. í•œêµ­í•´ì–‘êµí†µì•ˆì „ê³µë‹¨
9. í•´ì–‘ìˆ˜ì‚°ê³¼í•™ê¸°ìˆ ì§„í¥ì›
10. í•œêµ­ì–´ì´Œì–´í•­ê³µë‹¨
11. í•´ì–‘ìˆ˜ì‚°ì¸ì¬ê°œë°œì›
12. êµ­ë¦½í•´ì–‘ë°•ë¬¼ê´€
13. í•œêµ­ìˆ˜ì‚°ì—…ê²½ì˜ì¸ì¤‘ì•™ì—°í•©íšŒ
14. í•´ì–‘ê²½ì°°ì²­
15. êµ­ë¦½ìˆ˜ì‚°ë¬¼í’ˆì§ˆê´€ë¦¬ì›

#### 1.2 í¬ë¡¤ëŸ¬ ë¡œì§ êµ¬í˜„ (`marine_ministry_crawler_final.py`)

**í•µì‹¬ ê¸°ëŠ¥:**
```python
# ë¹„ë™ê¸° í¬ë¡¤ë§ (aiohttp + asyncio)
async def crawl_all_organizations():
    # 15ê°œ ê¸°ê´€ ë™ì‹œ í¬ë¡¤ë§
    tasks = [crawl_organization(org) for org in ORGANIZATIONS]
    results = await asyncio.gather(*tasks)
```

**ì£¼ìš” íŠ¹ì§•:**
- **ë¹„ë™ê¸° ì²˜ë¦¬**: aiohttpë¡œ 15ê°œ ê¸°ê´€ ë™ì‹œ í¬ë¡¤ë§
- **ì—ëŸ¬ í•¸ë“¤ë§**: ê° ê¸°ê´€ë³„ ë…ë¦½ì  ì˜¤ë¥˜ ì²˜ë¦¬
- **ë°ì´í„° ê²€ì¦**: í•„ìˆ˜ í•„ë“œ(ì œëª©, ë§í¬) ê²€ì¦
- **CSV/XLSX ì €ì¥**: pandasë¥¼ í†µí•œ ë¡œì»¬ ì €ì¥

**ìˆ˜ì§‘ í•„ë“œ:**
- ê¸°ê´€êµ¬ë¶„
- ê¸°ê´€ëª…
- ê²Œì‹œíŒ
- ì œëª©
- ì‘ì„±ì¼
- ë§í¬
- ìˆ˜ì§‘ì¼ì‹œ

#### 1.3 Google Sheets ì—…ë¡œë“œ (`upload_to_gsheet.py`)

**ê¸°ëŠ¥:**
```python
def upload_to_gsheet(csv_file, spreadsheet_id):
    # 1. CSV ì½ê¸°
    df = pd.read_csv(csv_file)

    # 2. ê¸°ì¡´ ë°ì´í„° ì¡°íšŒ
    existing_data = sheet.get_all_values()

    # 3. ì¤‘ë³µ ì œê±° (ë§í¬ ê¸°ì¤€)
    new_data = remove_duplicates(df, existing_data)

    # 4. Google Sheetsì— ì¶”ê°€
    sheet.append_rows(new_data)
```

**íŠ¹ì§•:**
- Google Sheets API v4 ì‚¬ìš©
- Service Account ì¸ì¦
- ë§í¬ ê¸°ì¤€ ìë™ ì¤‘ë³µ ì œê±°
- ì‹œíŠ¸: "í¬ë¡¤ë§ ê²°ê³¼" (A:G ë²”ìœ„)

---

### Phase 2: GitHub Actions ìë™í™”

#### 2.1 ì›Œí¬í”Œë¡œìš° ì„¤ì • (`.github/workflows/daily-crawling.yml`)

**ì´ˆê¸° ì„¤ì •:**
- í•˜ë£¨ 1íšŒ ì‹¤í–‰ (UTC 23:00 = KST 08:00)

**ìµœì¢… ì„¤ì • (2025-11-18):**
- í•˜ë£¨ 4íšŒ ì‹¤í–‰
  - 08:00 KST (UTC 23:00 ì „ë‚ )
  - 11:00 KST (UTC 02:00)
  - 16:00 KST (UTC 07:00)
  - 20:00 KST (UTC 11:00)

```yaml
on:
  schedule:
    - cron: '0 23 * * *'  # 08:00 KST
    - cron: '0 2 * * *'   # 11:00 KST
    - cron: '0 7 * * *'   # 16:00 KST
    - cron: '0 11 * * *'  # 20:00 KST
  workflow_dispatch:      # ìˆ˜ë™ ì‹¤í–‰ ì§€ì›
```

#### 2.2 GitHub Secrets ì„¤ì •

**í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜:**
1. `GOOGLE_CREDENTIALS_JSON`: Google Service Account JSON (ì „ì²´ ë‚´ìš©)
2. `SPREADSHEET_ID`: Google Sheets ë¬¸ì„œ ID

**ì„¤ì • ê²½ë¡œ**: Repository â†’ Settings â†’ Secrets and variables â†’ Actions

#### 2.3 ì›Œí¬í”Œë¡œìš° ì‘ì—… ë‹¨ê³„

```yaml
jobs:
  crawl-and-upload:
    steps:
      - name: Checkout repository
      - name: Set up Python 3.11
      - name: Cache pip dependencies
      - name: Install dependencies
      - name: Create Google credentials
      - name: Run crawler (25ë¶„ íƒ€ì„ì•„ì›ƒ)
      - name: Check crawling results
      - name: Upload to Google Sheets (10ë¶„ íƒ€ì„ì•„ì›ƒ)
      - name: Cleanup credentials
      - name: Upload artifacts (30ì¼ ë³´ê´€)
```

**íŠ¹ì§•:**
- Python 3.11 ì‚¬ìš©
- pip ìºì‹±ìœ¼ë¡œ ì„¤ì¹˜ ì†ë„ ê°œì„ 
- ì‹¤í–‰ ë¡œê·¸ ìë™ ì•„ì¹´ì´ë¹™
- ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë¡œê·¸ ë³„ë„ ì €ì¥

---

### Phase 3: Next.js ëŒ€ì‹œë³´ë“œ ê°œë°œ

#### 3.1 í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

```bash
cd dashboard
npx create-next-app@latest . --typescript --tailwind --app
npm install googleapis
```

**ê¸°ìˆ  ìŠ¤íƒ:**
- Next.js 16.0.3
- TypeScript (strict mode)
- Tailwind CSS 3.4.1
- App Router
- Turbopack (dev server)

#### 3.2 Google Sheets API í´ë¼ì´ì–¸íŠ¸ (`dashboard/lib/googleSheets.ts`)

**ì£¼ìš” í•¨ìˆ˜:**

```typescript
// ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ë°ì´í„° ì¡°íšŒ
export async function getSpreadsheetData(): Promise<string[][]> {
  const credentials = JSON.parse(process.env.GOOGLE_CREDENTIALS_JSON!);
  const auth = new google.auth.GoogleAuth({
    credentials,
    scopes: ['https://www.googleapis.com/auth/spreadsheets.readonly'],
  });

  const sheets = google.sheets({ version: 'v4', auth });
  const response = await sheets.spreadsheets.values.get({
    spreadsheetId: process.env.SPREADSHEET_ID!,
    range: 'í¬ë¡¤ë§ ê²°ê³¼!A:G',
  });

  return response.data.values || [];
}

// í–‰ì„ ê°ì²´ë¡œ ë³€í™˜
export function transformRowToData(row: string[]) {
  return {
    ê¸°ê´€êµ¬ë¶„: row[0],
    ê¸°ê´€ëª…: row[1],
    ê²Œì‹œíŒ: row[2],
    ì œëª©: row[3],
    ì‘ì„±ì¼: row[4],
    ë§í¬: row[5],
    ìˆ˜ì§‘ì¼ì‹œ: row[6],
  };
}
```

**ì¤‘ìš” ìˆ˜ì • ì‚¬í•­ (2025-11-18):**
- Sheet1 â†’ í¬ë¡¤ë§ ê²°ê³¼ (ì‹œíŠ¸ ì´ë¦„ ìˆ˜ì •)
- ì—ëŸ¬ ë¡œê¹… ì¶”ê°€

#### 3.3 í•„í„°ë§ ë¡œì§ (`dashboard/lib/filters.ts`)

```typescript
export function filterData(data: any[], filters: FilterState) {
  return data.filter(item => {
    // ê¸°ê´€ëª… í•„í„°
    if (filters.ê¸°ê´€ && !item.ê¸°ê´€ëª…?.includes(filters.ê¸°ê´€)) return false;

    // ê²Œì‹œíŒ í•„í„°
    if (filters.ê²Œì‹œíŒ && !item.ê²Œì‹œíŒ?.includes(filters.ê²Œì‹œíŒ)) return false;

    // ë‚ ì§œ í•„í„° (ì‹œì‘ì¼ ~ ì¢…ë£Œì¼)
    if (filters.ì‹œì‘ì¼ && item.ì‘ì„±ì¼ < filters.ì‹œì‘ì¼) return false;
    if (filters.ì¢…ë£Œì¼ && item.ì‘ì„±ì¼ > filters.ì¢…ë£Œì¼) return false;

    // ê²€ìƒ‰ì–´ í•„í„° (ì œëª© + ë‚´ìš©)
    if (filters.ê²€ìƒ‰ì–´ && !item.ì œëª©?.includes(filters.ê²€ìƒ‰ì–´)) return false;

    return true;
  });
}

export function extractStats(data: any[]) {
  return {
    totalCount: data.length,
    organizationCount: new Set(data.map(d => d.ê¸°ê´€ëª…)).size,
    boardTypes: new Set(data.map(d => d.ê²Œì‹œíŒ)).size,
  };
}
```

#### 3.4 API ì—”ë“œí¬ì¸íŠ¸ (`dashboard/app/api/sheets/route.ts`)

**ì´ˆê¸° êµ¬í˜„:**
```typescript
export async function GET(request: NextRequest) {
  const rows = await getSpreadsheetData();
  const data = transformRowsToData(rows);
  const filtered = filterData(data, filters);

  return NextResponse.json({
    data: filtered,
    total: filtered.length,
  });
}
```

**ìµœì¢… êµ¬í˜„ (2025-11-18 - ISR ìºì‹± ì¶”ê°€):**
```typescript
// ISR ìºì‹±: 5ë¶„ë§ˆë‹¤ ì¬ê²€ì¦
export const revalidate = 300;

export async function GET(request: NextRequest) {
  const searchParams = request.nextUrl.searchParams;
  const type = searchParams.get('type') || 'data';

  try {
    const rows = await getSpreadsheetData();
    const data = transformRowsToData(rows, true);

    if (type === 'stats') {
      const stats = extractStats(data);
      return NextResponse.json(stats);
    }

    // í•„í„° ì ìš©
    const filters = {
      ê¸°ê´€: searchParams.get('ê¸°ê´€') || undefined,
      ê²Œì‹œíŒ: searchParams.get('ê²Œì‹œíŒ') || undefined,
      // ...
    };

    const filtered = filterData(data, filters);

    return NextResponse.json({
      data: filtered.slice(0, limit),
      total: filtered.length,
    });
  } catch (error) {
    logger.error('API Error', error);
    return NextResponse.json(
      { error: 'Failed to fetch data' },
      { status: 500 }
    );
  }
}
```

**ì£¼ìš” ê°œì„ :**
- **ISR ìºì‹±**: API ì‘ë‹µ 5ë¶„ê°„ ìºì‹± (Google Sheets API í• ë‹¹ëŸ‰ ë³´í˜¸)
- **íƒ€ì…ë³„ ì‘ë‹µ**: data (ë°ì´í„°), stats (í†µê³„)
- **í˜ì´ì§€ë„¤ì´ì…˜**: limit/offset ì§€ì›
- **ì—ëŸ¬ í•¸ë“¤ë§**: ìƒì„¸ ë¡œê¹… ë° 500 ì‘ë‹µ

---

### Phase 4: UI ì»´í¬ë„ŒíŠ¸ ê°œë°œ

#### 4.1 í•„í„°ë°” (`dashboard/components/FilterBar.tsx`)

**ì´ˆê¸° ë²„ì „:**
- ê¸°ë³¸ ì…ë ¥ í•„ë“œë§Œ ì œê³µ
- ê¸°ê´€ëª…, ê²Œì‹œíŒ, ì‹œì‘ì¼, ì¢…ë£Œì¼, ê²€ìƒ‰ì–´

**ìµœì¢… ë²„ì „ (2025-11-18 - í”„ë¦¬ì…‹ ì¶”ê°€):**

```typescript
export function FilterBar({ onFilter }: FilterBarProps) {
  const [filters, setFilters] = useState<FilterState>({});

  // ë‚ ì§œ í”„ë¦¬ì…‹ í•¨ìˆ˜
  const setDatePreset = (days: number) => {
    const today = new Date();
    const startDate = new Date();
    startDate.setDate(today.getDate() - days);

    const newFilters = {
      ...filters,
      ì‹œì‘ì¼: startDate.toISOString().split('T')[0],
      ì¢…ë£Œì¼: today.toISOString().split('T')[0],
    };
    setFilters(newFilters);
    onFilter(newFilters);
  };

  // ê²Œì‹œíŒ í”„ë¦¬ì…‹ í•¨ìˆ˜
  const setBoardPreset = (boardType: string) => {
    const newFilters = { ...filters, ê²Œì‹œíŒ: boardType };
    setFilters(newFilters);
    onFilter(newFilters);
  };

  return (
    <div className="bg-white rounded-lg shadow p-6 mb-6">
      {/* ë‚ ì§œ í”„ë¦¬ì…‹ ë²„íŠ¼ë“¤ */}
      <div className="mb-4">
        <label>ê¸°ê°„ ë¹ ë¥¸ ì„ íƒ</label>
        <div className="flex flex-wrap gap-2">
          <button onClick={() => setDatePreset(0)}>ì˜¤ëŠ˜</button>
          <button onClick={() => setDatePreset(1)}>ì–´ì œ</button>
          <button onClick={() => setDatePreset(3)}>ìµœê·¼ 3ì¼</button>
          <button onClick={() => setDatePreset(7)}>ìµœê·¼ 7ì¼</button>
          <button onClick={() => setDatePreset(30)}>ìµœê·¼ 1ê°œì›”</button>
          <button onClick={() => setDatePreset(90)}>ìµœê·¼ 3ê°œì›”</button>
        </div>
      </div>

      {/* ê²Œì‹œíŒ í”„ë¦¬ì…‹ ë²„íŠ¼ë“¤ */}
      <div className="mb-4">
        <label>ê²Œì‹œíŒ ë¹ ë¥¸ ì„ íƒ</label>
        <div className="flex flex-wrap gap-2">
          <button onClick={() => setBoardPreset('ê³µì§€ì‚¬í•­')}>ê³µì§€ì‚¬í•­</button>
          <button onClick={() => setBoardPreset('ì…ì°°')}>ì…ì°°</button>
          <button onClick={() => setBoardPreset('ì¸ì‚¬ë°œë ¹')}>ì¸ì‚¬ë°œë ¹</button>
          <button onClick={() => setBoardPreset('ì¸ì‚¬')}>ì¸ì‚¬</button>
        </div>
      </div>

      {/* ê¸°ì¡´ ì…ë ¥ í•„ë“œë“¤ */}
      {/* ... */}
    </div>
  );
}
```

**í”„ë¦¬ì…‹ ê¸°ëŠ¥:**
- **ë‚ ì§œ í”„ë¦¬ì…‹**: ì˜¤ëŠ˜, ì–´ì œ, ìµœê·¼ 3ì¼/7ì¼/1ê°œì›”/3ê°œì›”
- **ê²Œì‹œíŒ í”„ë¦¬ì…‹**: ê³µì§€ì‚¬í•­, ì…ì°°, ì¸ì‚¬ë°œë ¹, ì¸ì‚¬
- í´ë¦­ ì¦‰ì‹œ í•„í„° ì ìš©

#### 4.2 í†µê³„ ì¹´ë“œ (`dashboard/components/StatsCards.tsx`)

```typescript
export function StatsCards({ stats }: StatsCardsProps) {
  return (
    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
      <StatCard
        title="ì´ ê²Œì‹œë¬¼ ìˆ˜"
        value={stats.totalCount}
        icon="ğŸ“Š"
      />
      <StatCard
        title="í¬ë¡¤ë§ ê¸°ê´€"
        value={stats.organizationCount}
        icon="ğŸ¢"
      />
      <StatCard
        title="ê²Œì‹œíŒ ì¢…ë¥˜"
        value={stats.boardTypes}
        icon="ğŸ“‹"
      />
    </div>
  );
}
```

#### 4.3 ë°ì´í„° í…Œì´ë¸” (`dashboard/components/DataTable.tsx`)

```typescript
export function DataTable({ data, loading }: DataTableProps) {
  if (loading) {
    return <TableSkeleton />;
  }

  return (
    <div className="overflow-x-auto">
      <table className="min-w-full">
        <thead>
          <tr>
            <th>ê¸°ê´€ëª…</th>
            <th>ê²Œì‹œíŒ</th>
            <th>ì œëª©</th>
            <th>ì‘ì„±ì¼</th>
          </tr>
        </thead>
        <tbody>
          {data.map((item, idx) => (
            <tr key={idx}>
              <td>{item.ê¸°ê´€ëª…}</td>
              <td>{item.ê²Œì‹œíŒ}</td>
              <td>
                <a href={item.ë§í¬} target="_blank" rel="noopener noreferrer">
                  {item.ì œëª©}
                </a>
              </td>
              <td>{item.ì‘ì„±ì¼}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}
```

**íŠ¹ì§•:**
- ìŠ¤ì¼ˆë ˆí†¤ ë¡œë”© UI
- ë§í¬ ìƒˆ íƒ­ ì—´ê¸°
- ë°˜ì‘í˜• í…Œì´ë¸”

#### 4.4 ëŒ€ì‹œë³´ë“œ í†µí•© (`dashboard/app/dashboard/page.tsx`)

```typescript
export default function DashboardPage() {
  const [data, setData] = useState([]);
  const [stats, setStats] = useState({});
  const [loading, setLoading] = useState(true);

  const fetchData = async (filters: FilterState) => {
    setLoading(true);
    const params = new URLSearchParams(filters);
    const response = await fetch(`/api/sheets?${params}`);
    const result = await response.json();
    setData(result.data);
  };

  const fetchStats = async () => {
    const response = await fetch('/api/sheets?type=stats');
    const result = await response.json();
    setStats(result);
  };

  useEffect(() => {
    fetchStats();
    fetchData({});
  }, []);

  return (
    <div className="container mx-auto p-6">
      <h1>í•´ì–‘ìˆ˜ì‚°ë¶€ í¬ë¡¤ë§ ëŒ€ì‹œë³´ë“œ</h1>
      <StatsCards stats={stats} />
      <FilterBar onFilter={fetchData} />
      <DataTable data={data} loading={loading} />
    </div>
  );
}
```

---

### Phase 5: Vercel ë°°í¬

#### 5.1 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

**ë¡œì»¬ ê°œë°œ (`.env.local`):**
```env
GOOGLE_CREDENTIALS_JSON={"type":"service_account",...}
SPREADSHEET_ID=1lXwc_EvZ-2jGGanLsUX5eRl1eN9C2ozJzXyDMzjd5Qw
NEXT_PUBLIC_API_URL=http://localhost:3000
```

**Vercel í”„ë¡œë•ì…˜:**
- Vercel Dashboard â†’ Settings â†’ Environment Variables
- `GOOGLE_CREDENTIALS_JSON`: Service Account JSON
- `SPREADSHEET_ID`: Spreadsheet ID
- `NEXT_PUBLIC_API_URL`: https://crawlling.vercel.app

#### 5.2 ì„œë¸Œí´ë” ë°°í¬ ì„¤ì •

**ë¬¸ì œì :**
- Next.js í”„ë¡œì íŠ¸ê°€ `dashboard/` ì„œë¸Œí´ë”ì— ìœ„ì¹˜
- Vercelì´ ë£¨íŠ¸ í´ë”ë¥¼ í”„ë¡œì íŠ¸ë¡œ ì¸ì‹

**í•´ê²° ë°©ë²•:**

**ë£¨íŠ¸ `vercel.json`:**
```json
{
  "buildCommand": "cd dashboard && npm run build",
  "devCommand": "cd dashboard && npm run dev",
  "installCommand": "cd dashboard && npm install",
  "framework": "nextjs",
  "outputDirectory": "dashboard/.next"
}
```

**`dashboard/vercel.json`:**
```json
{
  "framework": "nextjs",
  "regions": ["icn1"],
  "headers": [
    {
      "source": "/api/sheets",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, s-maxage=300, stale-while-revalidate=3600"
        }
      ]
    }
  ]
}
```

**ì£¼ìš” ì„¤ì •:**
- Seoul ë¦¬ì „ (icn1) ì‚¬ìš©
- API ì‘ë‹µ ìºì‹± (5ë¶„ + 1ì‹œê°„ stale-while-revalidate)

#### 5.3 .gitignore ìˆ˜ì •

**ë¬¸ì œ:**
- `*.json` ê·œì¹™ì´ `vercel.json` ì°¨ë‹¨
- `lib/` ê·œì¹™ì´ `dashboard/lib/` ì°¨ë‹¨

**í•´ê²°:**
```gitignore
# Google Credentials
*.json
!requirements.json
!package.json
!tsconfig.json
!vercel.json

# But allow Next.js lib folders
!dashboard/lib/
!**/lib/
```

#### 5.4 ë°°í¬ í”„ë¡œì„¸ìŠ¤

```bash
# 1. ë³€ê²½ì‚¬í•­ ì»¤ë°‹
git add .
git commit -m "feat: í•„í„° í”„ë¦¬ì…‹ ì¶”ê°€"

# 2. GitHubì— í‘¸ì‹œ
git push origin main

# 3. Vercel ìë™ ë°°í¬
# - GitHub push ê°ì§€
# - ë¹Œë“œ ì‹œì‘ (2-3ë¶„ ì†Œìš”)
# - ë°°í¬ ì™„ë£Œ: https://crawlling.vercel.app
```

**ë°°í¬ URL**: https://crawlling.vercel.app

---

### Phase 6: ìµœì í™” ë° ë²„ê·¸ ìˆ˜ì •

#### 6.1 API í• ë‹¹ëŸ‰ ë³´í˜¸ (2025-11-18)

**ë¬¸ì œ:**
- Google Sheets API ë¬´ë£Œ í• ë‹¹ëŸ‰: 300 ìš”ì²­/ë¶„
- ìºì‹± ì—†ì´ ëª¨ë“  ìš”ì²­ì´ API í˜¸ì¶œ â†’ í• ë‹¹ëŸ‰ ì´ˆê³¼ ìœ„í—˜

**í•´ê²°:**
- ISR (Incremental Static Regeneration) ì¶”ê°€
- `export const revalidate = 300;` (5ë¶„ ìºì‹±)
- ì¼ì¼ API í˜¸ì¶œ ì•½ 288íšŒë¡œ ê°ì†Œ

**ì»¤ë°‹**: `8ff9a38 - feat: API ì‘ë‹µ ìºì‹± ì¶”ê°€ (ISR 5ë¶„)`

#### 6.2 ì‹œíŠ¸ ì´ë¦„ ì˜¤ë¥˜ ìˆ˜ì • (2025-11-18)

**ë¬¸ì œ:**
- API ì—ëŸ¬: "Unable to parse range: Sheet1!A:G"
- ì‹¤ì œ ì‹œíŠ¸ ì´ë¦„: "í¬ë¡¤ë§ ê²°ê³¼"

**í•´ê²°:**
- `googleSheets.ts:53` ìˆ˜ì •
- `'Sheet1!A:G'` â†’ `'í¬ë¡¤ë§ ê²°ê³¼!A:G'`

**ì»¤ë°‹**: `4e28c60 - fix: Google Sheets ì‹œíŠ¸ ì´ë¦„ ìˆ˜ì •`

#### 6.3 lib/ í´ë” gitignore ìˆ˜ì • (2025-11-18)

**ë¬¸ì œ:**
- `.gitignore`ì˜ `lib/` ê·œì¹™ì´ `dashboard/lib/` ì°¨ë‹¨
- `googleSheets.ts`, `filters.ts` ë¯¸ì»¤ë°‹ ìƒíƒœ

**í•´ê²°:**
- Python ê°€ìƒí™˜ê²½ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì œì™¸: `lib64/`
- Next.js ë¼ì´ë¸ŒëŸ¬ë¦¬ í—ˆìš©: `!dashboard/lib/`, `!**/lib/`

**ì»¤ë°‹**: `4e28c60 - fix: lib í´ë” gitignore ìˆ˜ì •`

#### 6.4 í¬ë¡¤ë§ ì£¼ê¸° ë³€ê²½ (2025-11-18)

**ì´ì „**: í•˜ë£¨ 1íšŒ (08:00 KST)
**ì´í›„**: í•˜ë£¨ 4íšŒ (08:00, 11:00, 16:00, 20:00 KST)

**ë³€ê²½ ë‚´ìš©:**
```yaml
schedule:
  - cron: '0 23 * * *'  # 08:00 KST
  - cron: '0 2 * * *'   # 11:00 KST
  - cron: '0 7 * * *'   # 16:00 KST
  - cron: '0 11 * * *'  # 20:00 KST
```

**íš¨ê³¼**: ìµœì‹  ë°ì´í„° ë°˜ì˜ ì†ë„ ê°œì„  (24ì‹œê°„ â†’ 5ì‹œê°„ ì´ë‚´)

**ì»¤ë°‹**: `d4d2289 - feat: í¬ë¡¤ë§ ì£¼ê¸° ë³€ê²½ - í•˜ë£¨ 4ë²ˆ ì‹¤í–‰`

#### 6.5 í•„í„° í”„ë¦¬ì…‹ ì¶”ê°€ (2025-11-18)

**ìš”êµ¬ì‚¬í•­:**
- ë‚ ì§œ ë¹ ë¥¸ ì„ íƒ: ì˜¤ëŠ˜, ì–´ì œ, ìµœê·¼ 3ì¼/7ì¼/1ê°œì›”/3ê°œì›”
- ê²Œì‹œíŒ ë¹ ë¥¸ ì„ íƒ: ê³µì§€ì‚¬í•­, ì…ì°°, ì¸ì‚¬ë°œë ¹, ì¸ì‚¬

**êµ¬í˜„:**
- `FilterBar.tsx`ì— í”„ë¦¬ì…‹ ë²„íŠ¼ UI ì¶”ê°€
- `setDatePreset(days)` í•¨ìˆ˜ë¡œ ë‚ ì§œ ê³„ì‚°
- `setBoardPreset(type)` í•¨ìˆ˜ë¡œ ê²Œì‹œíŒ í•„í„° ì ìš©
- í´ë¦­ ì¦‰ì‹œ `onFilter()` ì½œë°± í˜¸ì¶œ

**ì»¤ë°‹**: `5072df0 - feat: í•„í„°ì— ë‚ ì§œ ë° ê²Œì‹œíŒ í”„ë¦¬ì…‹ ì¶”ê°€`

#### 6.6 Vercel ë°°í¬ ì˜¤ë¥˜ ìˆ˜ì • (2025-11-18)

**ë¬¸ì œ 1**: ì„œë¸Œí´ë” í”„ë¡œì íŠ¸ ì¸ì‹ ì‹¤íŒ¨ (404 ì—ëŸ¬)
- **í•´ê²°**: ë£¨íŠ¸ `vercel.json` ì¶”ê°€
- **ì»¤ë°‹**: `b4f4abc - fix: Vercel ë°°í¬ ì„¤ì • ì¶”ê°€`

**ë¬¸ì œ 2**: `vercel.json`ì´ `.gitignore`ì— ì°¨ë‹¨
- **í•´ê²°**: `!vercel.json` ì˜ˆì™¸ ì¶”ê°€
- **ì»¤ë°‹**: `b4f4abc - fix: Vercel ë°°í¬ ì„¤ì • ì¶”ê°€`

**ë¬¸ì œ 3**: "Invalid request: projectName" ì—ëŸ¬
- **ì›ì¸**: `dashboard/vercel.json`ì— ì˜ëª»ëœ ì†ì„±
- **í•´ê²°**: projectName, buildCommand, env, functions, git ì†ì„± ì œê±°
- **ì»¤ë°‹**: `ce73769 - fix: vercel.json ì˜ëª»ëœ ì†ì„± ì œê±°`

---

### Phase 7: í”„ë¡œì íŠ¸ ì •ë¦¬ (2025-11-19)

#### 7.1 í´ë” êµ¬ì¡° ì¬í¸ì„±

**ì‘ì—… ë‚´ìš©:**
```bash
# 1. ë¬¸ì„œ í´ë” ìƒì„±
mkdir -p docs/reports docs/design scripts/utils

# 2. ë³´ê³ ì„œ ì´ë™ (20+ íŒŒì¼)
mv *_REPORT*.md *_SUMMARY*.md docs/reports/

# 3. ë””ìì¸ ë¬¸ì„œ ì´ë™
mv ì‚¬ìš©ì_í”Œë¡œìš°_*.md ì»´í¬ë„ŒíŠ¸_ëª…ì„¸ì„œ.md í•´ì–‘ìˆ˜ì‚°ë¶€_ëŒ€ì‹œë³´ë“œ_*.md docs/design/

# 4. ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸ ì´ë™
mv test_*.py verify_*.py read_docs.py resize_columns.py scripts/utils/

# 5. ì„ì‹œ íŒŒì¼ ì‚­ì œ
rm -f "README (2).md" nul gen-lang-client-*.json marine_ministry_posts_*.csv *.xlsx ì‚¬ìš©ë²•.txt
```

**ì •ë¦¬ í›„ ë£¨íŠ¸ íŒŒì¼:**
- `marine_ministry_crawler_final.py` (í¬ë¡¤ëŸ¬)
- `upload_to_gsheet.py` (ì—…ë¡œë“œ)
- `requirements.txt` (Python ì˜ì¡´ì„±)
- `vercel.json` (Vercel ì„¤ì •)
- `README.md` (í”„ë¡œì íŠ¸ ì„¤ëª…)
- `LICENSE` (ë¼ì´ì„¼ìŠ¤)
- `CHANGELOG.md` (ë³€ê²½ ì´ë ¥)
- `CONTRIBUTING.md` (ê¸°ì—¬ ê°€ì´ë“œ)
- `íˆìŠ¤í† ë¦¬.md` (ë³¸ íŒŒì¼)

#### 7.2 ë¬¸ì„œí™” ì™„ì„±

**ì‘ì„±ëœ ë¬¸ì„œ:**
- `íˆìŠ¤í† ë¦¬.md`: í”„ë¡œì íŠ¸ ì „ì²´ íˆìŠ¤í† ë¦¬ (ë³¸ íŒŒì¼)
- `README.md`: í”„ë¡œì íŠ¸ ê°œìš” ë° ì‚¬ìš©ë²•
- `CHANGELOG.md`: ë²„ì „ë³„ ë³€ê²½ ì´ë ¥
- `CONTRIBUTING.md`: ê¸°ì—¬ ê°€ì´ë“œë¼ì¸

---

## ì£¼ìš” Git ì»¤ë°‹ íˆìŠ¤í† ë¦¬

```
70fec46 - chore: Vercel ì¬ë°°í¬ íŠ¸ë¦¬ê±° (2025-11-18)
5072df0 - feat: í•„í„°ì— ë‚ ì§œ ë° ê²Œì‹œíŒ í”„ë¦¬ì…‹ ì¶”ê°€ (2025-11-18)
ce73769 - fix: vercel.json ì˜ëª»ëœ ì†ì„± ì œê±° (2025-11-18)
b4f4abc - fix: Vercel ë°°í¬ ì„¤ì • ì¶”ê°€ (dashboard ì„œë¸Œí´ë”) (2025-11-18)
d4d2289 - feat: í¬ë¡¤ë§ ì£¼ê¸° ë³€ê²½ - í•˜ë£¨ 4ë²ˆ ì‹¤í–‰ (2025-11-18)
8ff9a38 - feat: API ì‘ë‹µ ìºì‹± ì¶”ê°€ (ISR 5ë¶„) (2025-11-18)
4e28c60 - fix: Google Sheets ì‹œíŠ¸ ì´ë¦„ ìˆ˜ì • ë° lib í´ë” gitignore ìˆ˜ì • (2025-11-18)
a2944c0 - feat: ëŒ€ì‹œë³´ë“œ API í†µí•© ì™„ë£Œ (2025-11-18)
be16538 - docs: Vercel ë°°í¬ ì‘ì—… ì™„ë£Œ ìµœì¢… ìš”ì•½ ë³´ê³ ì„œ (2025-11-18)
d3455f1 - fix: TypeScript ì»´íŒŒì¼ ì—ëŸ¬ ë° íŒŒì¼ ì¸ì½”ë”© ìˆ˜ì • (2025-11-18)
996509d - docs: Vercel ë°°í¬ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ ë° ì„¤ì • ì—…ë°ì´íŠ¸ (2025-11-18)
```

---

## ê¸°ìˆ  ìŠ¤íƒ ì •ë¦¬

### ë°±ì—”ë“œ (í¬ë¡¤ë§)
- **ì–¸ì–´**: Python 3.11
- **ë¹„ë™ê¸° ì²˜ë¦¬**: asyncio, aiohttp
- **ë°ì´í„° ì²˜ë¦¬**: pandas, openpyxl
- **Google API**: google-auth, gspread

### í”„ë¡ íŠ¸ì—”ë“œ (ëŒ€ì‹œë³´ë“œ)
- **í”„ë ˆì„ì›Œí¬**: Next.js 16.0.3 (App Router)
- **ì–¸ì–´**: TypeScript 5.6.3
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS 3.4.1
- **ìƒíƒœ ê´€ë¦¬**: React Hooks (useState, useEffect)

### ì¸í”„ë¼
- **ìë™í™”**: GitHub Actions
- **ë°°í¬**: Vercel (Seoul ë¦¬ì „)
- **ë°ì´í„° ì €ì¥**: Google Sheets API v4
- **ìºì‹±**: ISR (Incremental Static Regeneration)

---

## í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ê°€ì´ë“œ

### 1. Google Service Account ìƒì„±

**GCP Console ì ˆì°¨:**
1. https://console.cloud.google.com ì ‘ì†
2. í”„ë¡œì íŠ¸ ìƒì„± ë˜ëŠ” ì„ íƒ
3. API ë° ì„œë¹„ìŠ¤ â†’ ì‚¬ìš©ì ì¸ì¦ ì •ë³´
4. ì„œë¹„ìŠ¤ ê³„ì • ë§Œë“¤ê¸°
5. ì—­í• : "í¸ì§‘ì" ë˜ëŠ” "ë·°ì–´"
6. JSON í‚¤ ë‹¤ìš´ë¡œë“œ

**ìƒì„±ëœ JSON ì˜ˆì‹œ:**
```json
{
  "type": "service_account",
  "project_id": "project-id",
  "private_key_id": "key-id",
  "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
  "client_email": "service-account@project-id.iam.gserviceaccount.com",
  "client_id": "123456789",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/..."
}
```

### 2. Google Sheets API í™œì„±í™”

1. GCP Console â†’ API ë° ì„œë¹„ìŠ¤ â†’ ë¼ì´ë¸ŒëŸ¬ë¦¬
2. "Google Sheets API" ê²€ìƒ‰
3. "ì‚¬ìš© ì„¤ì •" í´ë¦­

### 3. Google Sheets ê³µìœ 

1. Google Sheets ë¬¸ì„œ ì—´ê¸°
2. ìš°ì¸¡ ìƒë‹¨ "ê³µìœ " í´ë¦­
3. Service Account ì´ë©”ì¼ ì¶”ê°€ (`service-account@project-id.iam.gserviceaccount.com`)
4. ê¶Œí•œ: "í¸ì§‘ì" (í¬ë¡¤ëŸ¬ìš©) ë˜ëŠ” "ë·°ì–´" (ëŒ€ì‹œë³´ë“œìš©)

### 4. GitHub Secrets ì„¤ì •

```
Repository â†’ Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret
```

**ì¶”ê°€í•  ì‹œí¬ë¦¿:**
- Name: `GOOGLE_CREDENTIALS_JSON`
  - Value: JSON íŒŒì¼ ì „ì²´ ë‚´ìš© (ì¤„ë°”ê¿ˆ í¬í•¨)
- Name: `SPREADSHEET_ID`
  - Value: Google Sheets URLì—ì„œ ì¶”ì¶œ
  - ì˜ˆ: `https://docs.google.com/spreadsheets/d/[SPREADSHEET_ID]/edit`

### 5. Vercel Environment Variables ì„¤ì •

```
Vercel Dashboard â†’ Project â†’ Settings â†’ Environment Variables
```

**ì¶”ê°€í•  ë³€ìˆ˜:**
- `GOOGLE_CREDENTIALS_JSON`: Service Account JSON (Production + Preview)
- `SPREADSHEET_ID`: Spreadsheet ID (Production + Preview)
- `NEXT_PUBLIC_API_URL`: `https://crawlling.vercel.app` (Production)

---

## ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

### 1. Python í™˜ê²½ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/JSfa9586/crawlling.git
cd crawlling

# Python ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (Windows)
set GOOGLE_CREDENTIALS_JSON={"type":"service_account",...}
set SPREADSHEET_ID=your-spreadsheet-id

# í¬ë¡¤ëŸ¬ ì‹¤í–‰
python marine_ministry_crawler_final.py

# Google Sheets ì—…ë¡œë“œ
python upload_to_gsheet.py
```

### 2. Next.js ê°œë°œ ì„œë²„

```bash
# ëŒ€ì‹œë³´ë“œ í´ë”ë¡œ ì´ë™
cd dashboard

# Node.js ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ ìƒì„±
cp .env.local.example .env.local

# .env.local í¸ì§‘ (VS Code)
code .env.local
```

**.env.local ë‚´ìš©:**
```env
GOOGLE_CREDENTIALS_JSON={"type":"service_account",...}
SPREADSHEET_ID=1lXwc_EvZ-2jGGanLsUX5eRl1eN9C2ozJzXyDMzjd5Qw
NEXT_PUBLIC_API_URL=http://localhost:3000
```

```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸°
# http://localhost:3000
# http://localhost:3000/dashboard
```

### 3. í”„ë¡œë•ì…˜ ë¹Œë“œ í…ŒìŠ¤íŠ¸

```bash
# ë¹Œë“œ
npm run build

# ë¹Œë“œ ê²°ê³¼ ì‹¤í–‰
npm start

# ë¹Œë“œ í™•ì¸
# .next/ í´ë” ìƒì„± í™•ì¸
# ì—ëŸ¬ ì—†ì´ ë¹Œë“œ ì™„ë£Œ í™•ì¸
```

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1. GitHub Actions ì‹¤íŒ¨

**ì¦ìƒ**: ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì‹¤íŒ¨
**ì›ì¸**: GitHub Secrets ë¯¸ì„¤ì • ë˜ëŠ” ì˜ëª»ëœ ê°’

**í•´ê²° ë°©ë²•:**
```bash
# Secrets í™•ì¸
Repository â†’ Settings â†’ Secrets and variables â†’ Actions

# GOOGLE_CREDENTIALS_JSON í™•ì¸
- JSON í˜•ì‹ ê²€ì¦ (https://jsonlint.com)
- ì¤„ë°”ê¿ˆ í¬í•¨ ì—¬ë¶€ í™•ì¸
- ë³µì‚¬-ë¶™ì—¬ë„£ê¸° ì‹œ ê³µë°± ì œê±°

# SPREADSHEET_ID í™•ì¸
- Google Sheets URLì—ì„œ ì •í™•íˆ ì¶”ì¶œ
- ì˜ˆ: 1lXwc_EvZ-2jGGanLsUX5eRl1eN9C2ozJzXyDMzjd5Qw
```

### 2. Google Sheets API ì—ëŸ¬

**ì¦ìƒ**: "Unable to parse range: Sheet1!A:G"
**ì›ì¸**: ì‹œíŠ¸ ì´ë¦„ ë¶ˆì¼ì¹˜

**í•´ê²° ë°©ë²•:**
```typescript
// dashboard/lib/googleSheets.ts:53
range: 'í¬ë¡¤ë§ ê²°ê³¼!A:G',  // ì‹¤ì œ ì‹œíŠ¸ ì´ë¦„ ì‚¬ìš©
```

**ì¦ìƒ**: "The caller does not have permission"
**ì›ì¸**: Service Accountê°€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ

**í•´ê²° ë°©ë²•:**
1. Google Sheets â†’ ê³µìœ 
2. Service Account ì´ë©”ì¼ ì¶”ê°€
3. ê¶Œí•œ: "í¸ì§‘ì" ë˜ëŠ” "ë·°ì–´"

### 3. Vercel ë°°í¬ 404 ì—ëŸ¬

**ì¦ìƒ**: ë°°í¬ í›„ ëª¨ë“  í˜ì´ì§€ 404
**ì›ì¸**: ì„œë¸Œí´ë” í”„ë¡œì íŠ¸ ë¯¸ì¸ì‹

**í•´ê²° ë°©ë²•:**
```json
// ë£¨íŠ¸ vercel.json ìƒì„±
{
  "buildCommand": "cd dashboard && npm run build",
  "installCommand": "cd dashboard && npm install",
  "framework": "nextjs",
  "outputDirectory": "dashboard/.next"
}
```

### 4. ëŒ€ì‹œë³´ë“œ ë¡œë”© ëŠë¦¼

**ì¦ìƒ**: ë°ì´í„° ë¡œë”© 5ì´ˆ ì´ìƒ ì†Œìš”
**ì›ì¸**: Google Sheets API ì‘ë‹µ ì§€ì—°

**í•´ê²° ë°©ë²•:**
```typescript
// ISR ìºì‹± ì¶”ê°€
export const revalidate = 300;  // 5ë¶„ ìºì‹±
```

### 5. í•„í„° í”„ë¦¬ì…‹ ë¯¸ì‘ë™

**ì¦ìƒ**: í”„ë¦¬ì…‹ ë²„íŠ¼ í´ë¦­ ì‹œ í•„í„° ì ìš© ì•ˆ ë¨
**ì›ì¸**: `onFilter()` ì½œë°± í˜¸ì¶œ ëˆ„ë½

**í•´ê²° ë°©ë²•:**
```typescript
const setDatePreset = (days: number) => {
  const newFilters = { /* ... */ };
  setFilters(newFilters);
  onFilter(newFilters);  // ë°˜ë“œì‹œ í˜¸ì¶œ
};
```

---

## API í• ë‹¹ëŸ‰ ê´€ë¦¬

### Google Sheets API ë¬´ë£Œ í• ë‹¹ëŸ‰

- **ì½ê¸° ìš”ì²­**: ë¬´ì œí•œ (ì¼ì¼)
- **ë¶„ë‹¹ ìš”ì²­**: 300 requests/min (í”„ë¡œì íŠ¸ë‹¹)
- **ë¶„ë‹¹ ìš”ì²­**: 60 requests/min (ì‚¬ìš©ìë‹¹)

### í• ë‹¹ëŸ‰ ì´ˆê³¼ ë°©ì§€ ì „ëµ

**1. ISR ìºì‹± (Incremental Static Regeneration)**
```typescript
export const revalidate = 300;  // 5ë¶„ ìºì‹±
```

**íš¨ê³¼:**
- API í˜¸ì¶œ íšŸìˆ˜: ë¬´ì œí•œ â†’ 288íšŒ/ì¼
- ì‘ë‹µ ì†ë„: 1-2ì´ˆ â†’ ì¦‰ì‹œ (ìºì‹œ íˆíŠ¸ ì‹œ)

**2. CDN ìºì‹± (Vercel Edge Network)**
```json
{
  "headers": [
    {
      "source": "/api/sheets",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, s-maxage=300, stale-while-revalidate=3600"
        }
      ]
    }
  ]
}
```

**íš¨ê³¼:**
- s-maxage=300: 5ë¶„ê°„ CDN ìºì‹±
- stale-while-revalidate=3600: 1ì‹œê°„ ë™ì•ˆ stale ìºì‹œ ì œê³µ (ë°±ê·¸ë¼ìš´ë“œ ê°±ì‹ )

**3. í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ìºì‹±**
```typescript
// SWR ë˜ëŠ” React Query ì‚¬ìš© ê°€ëŠ¥
const { data } = useSWR('/api/sheets', fetcher, {
  refreshInterval: 300000,  // 5ë¶„ë§ˆë‹¤ ê°±ì‹ 
});
```

---

## ì„±ëŠ¥ ìµœì í™” ì „ëµ

### 1. Next.js ìµœì í™”

**Turbopack ì‚¬ìš©:**
```bash
npm run dev  # ìë™ìœ¼ë¡œ Turbopack ì‚¬ìš© (Next.js 16+)
```

**ì´ë¯¸ì§€ ìµœì í™”:**
```typescript
import Image from 'next/image';

<Image
  src="/logo.png"
  width={200}
  height={50}
  alt="Logo"
/>
```

**í°íŠ¸ ìµœì í™”:**
```typescript
import { Inter } from 'next/font/google';

const inter = Inter({ subsets: ['latin'] });
```

### 2. API ìµœì í™”

**í˜ì´ì§€ë„¤ì´ì…˜:**
```typescript
// limit/offset íŒŒë¼ë¯¸í„° ì§€ì›
GET /api/sheets?limit=20&offset=0
```

**í•„ë“œ ì„ íƒ:**
```typescript
// í•„ìš”í•œ í•„ë“œë§Œ ë°˜í™˜
const minimalData = data.map(item => ({
  ì œëª©: item.ì œëª©,
  ë§í¬: item.ë§í¬,
  ì‘ì„±ì¼: item.ì‘ì„±ì¼,
}));
```

### 3. í¬ë¡¤ëŸ¬ ìµœì í™”

**ë¹„ë™ê¸° ë³‘ë ¬ ì²˜ë¦¬:**
```python
# 15ê°œ ê¸°ê´€ ë™ì‹œ í¬ë¡¤ë§
tasks = [crawl_organization(org) for org in ORGANIZATIONS]
results = await asyncio.gather(*tasks)
```

**ì—°ê²° í’€ë§:**
```python
connector = aiohttp.TCPConnector(limit=10)
async with aiohttp.ClientSession(connector=connector) as session:
    # ...
```

---

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

**ì ˆëŒ€ ì»¤ë°‹í•˜ì§€ ë§ ê²ƒ:**
- `.env.local` (ë¡œì»¬ í™˜ê²½ ë³€ìˆ˜)
- `gen-lang-client-*.json` (Service Account í‚¤)
- `credentials.json`

**.gitignoreì— ì¶”ê°€:**
```gitignore
# Google Credentials
*.json
!package.json
!tsconfig.json
!vercel.json

.env
.env.local
```

### 2. API í‚¤ ë³´í˜¸

**Server-side Only:**
```typescript
// âœ… ì˜¬ë°”ë¦„: API Routeì—ì„œë§Œ ì‚¬ìš©
export async function GET() {
  const credentials = process.env.GOOGLE_CREDENTIALS_JSON;
  // ...
}

// âŒ ì˜ëª»ë¨: Client Componentì—ì„œ ì‚¬ìš©
'use client';
const credentials = process.env.GOOGLE_CREDENTIALS_JSON;  // undefined!
```

### 3. CORS ì„¤ì •

**Vercel ìë™ ì²˜ë¦¬:**
- ë™ì¼ ë„ë©”ì¸: ìë™ í—ˆìš©
- API Routes: ê¸°ë³¸ì ìœ¼ë¡œ CORS ë¹„í™œì„±í™”

**í•„ìš” ì‹œ ìˆ˜ë™ ì„¤ì •:**
```typescript
export async function GET(request: NextRequest) {
  const response = NextResponse.json(data);
  response.headers.set('Access-Control-Allow-Origin', 'https://crawlling.vercel.app');
  return response;
}
```

---

## ìœ ì§€ë³´ìˆ˜ ê°€ì´ë“œ

### 1. í¬ë¡¤ë§ ëŒ€ìƒ ì¶”ê°€

**ìƒˆ ê¸°ê´€ ì¶”ê°€ ì ˆì°¨:**

```python
# marine_ministry_crawler_final.py

ORGANIZATIONS = [
    {
        'name': 'ìƒˆ ê¸°ê´€ëª…',
        'category': 'ì†Œì†ì²­',
        'boards': [
            {
                'name': 'ê³µì§€ì‚¬í•­',
                'url': 'https://example.com/board',
                'selector': '.board-item',  # CSS ì…€ë ‰í„°
            }
        ]
    }
]
```

**í…ŒìŠ¤íŠ¸:**
```bash
python marine_ministry_crawler_final.py
# CSV íŒŒì¼ í™•ì¸
cat marine_ministry_posts_*.csv | grep "ìƒˆ ê¸°ê´€ëª…"
```

### 2. í•„í„° í”„ë¦¬ì…‹ ì¶”ê°€

**ë‚ ì§œ í”„ë¦¬ì…‹ ì¶”ê°€:**
```typescript
// dashboard/components/FilterBar.tsx

<button onClick={() => setDatePreset(180)}>
  ìµœê·¼ 6ê°œì›”
</button>
```

**ê²Œì‹œíŒ í”„ë¦¬ì…‹ ì¶”ê°€:**
```typescript
<button onClick={() => setBoardPreset('ì±„ìš©')}>
  ì±„ìš©
</button>
```

### 3. í†µê³„ ì¶”ê°€

**ìƒˆ í†µê³„ í•­ëª©:**
```typescript
// dashboard/lib/filters.ts

export function extractStats(data: any[]) {
  return {
    totalCount: data.length,
    organizationCount: new Set(data.map(d => d.ê¸°ê´€ëª…)).size,
    boardTypes: new Set(data.map(d => d.ê²Œì‹œíŒ)).size,
    // ìƒˆ í†µê³„ ì¶”ê°€
    todayCount: data.filter(d => isToday(d.ì‘ì„±ì¼)).length,
  };
}
```

### 4. GitHub Actions ì›Œí¬í”Œë¡œìš° ìˆ˜ì •

**í¬ë¡  ìŠ¤ì¼€ì¤„ ë³€ê²½:**
```yaml
schedule:
  - cron: '0 1 * * *'   # 10:00 KST (ìƒˆ ì‹œê°„)
```

**íƒ€ì„ì•„ì›ƒ ì¡°ì •:**
```yaml
jobs:
  crawl-and-upload:
    timeout-minutes: 60  # 40 â†’ 60ë¶„
```

---

## ë‹¤ìŒ ë‹¨ê³„ (í–¥í›„ ê°œì„  ì‚¬í•­)

### 1. ë°ì´í„°ë² ì´ìŠ¤ ì „í™˜
- Google Sheets â†’ PostgreSQL (Supabase)
- ì´ìœ : ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬, ë³µì¡í•œ ì¿¼ë¦¬ ì§€ì›

### 2. ì‹¤ì‹œê°„ ì•Œë¦¼
- ìƒˆ ê²Œì‹œë¬¼ ë“±ë¡ ì‹œ ì´ë©”ì¼/Slack ì•Œë¦¼
- GitHub Actions â†’ Webhook â†’ Notification Service

### 3. ê³ ê¸‰ ê²€ìƒ‰
- ì „ë¬¸ ê²€ìƒ‰ (Elasticsearch)
- í‚¤ì›Œë“œ í•˜ì´ë¼ì´íŒ…
- ìœ ì‚¬ ê²Œì‹œë¬¼ ì¶”ì²œ

### 4. ë°ì´í„° ë¶„ì„
- ê²Œì‹œë¬¼ íŠ¸ë Œë“œ ë¶„ì„
- ê¸°ê´€ë³„ í™œë™ í†µê³„
- ì‹œê°í™” ëŒ€ì‹œë³´ë“œ (Chart.js)

### 5. ëª¨ë°”ì¼ ì•±
- React Native ì•± ê°œë°œ
- í‘¸ì‹œ ì•Œë¦¼ ì§€ì›

---

## ë¼ì´ì„¼ìŠ¤ ë° ê¸°ì—¬

### ë¼ì´ì„¼ìŠ¤
ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„¼ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.
ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

### ê¸°ì—¬ ë°©ë²•
1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

ìì„¸í•œ ê¸°ì—¬ ê°€ì´ë“œëŠ” [CONTRIBUTING.md](CONTRIBUTING.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

---

## ë¬¸ì˜ ë° ì§€ì›

**GitHub Issues**: https://github.com/JSfa9586/crawlling/issues

**í”„ë¡œì íŠ¸ ë¬¸ì„œ**: `docs/` í´ë” ì°¸ì¡°
- `docs/reports/`: ê°œë°œ ì¤‘ê°„ ë³´ê³ ì„œ
- `docs/design/`: ë””ìì¸ ë¬¸ì„œ

---

## ë³€ê²½ ì´ë ¥ ìš”ì•½

| ë‚ ì§œ | ë²„ì „ | ì£¼ìš” ë³€ê²½ ì‚¬í•­ |
|------|------|----------------|
| 2025-12-06 | 1.4.0 | AI ë‰´ìŠ¤/í”„ë¡œëª¨ì…˜ í¬ë¡¤ëŸ¬ ì¶”ê°€ (ë„¤ì´ë²„ API + êµ¬ê¸€ RSS) |
| 2025-11-18 | 1.3.0 | í•„í„° í”„ë¦¬ì…‹ ì¶”ê°€ (ë‚ ì§œ/ê²Œì‹œíŒ) |
| 2025-11-18 | 1.2.0 | í¬ë¡¤ë§ ì£¼ê¸° ë³€ê²½ (1íšŒ â†’ 4íšŒ/ì¼) |
| 2025-11-18 | 1.1.0 | ISR ìºì‹± ì¶”ê°€ (5ë¶„) |
| 2025-11-18 | 1.0.1 | Vercel ë°°í¬ ì˜¤ë¥˜ ìˆ˜ì • |
| 2025-11-18 | 1.0.0 | ëŒ€ì‹œë³´ë“œ API í†µí•© ì™„ë£Œ |
| 2025-11-17 | 0.9.0 | Next.js ëŒ€ì‹œë³´ë“œ ê°œë°œ |
| 2025-11-16 | 0.5.0 | GitHub Actions ìë™í™” |
| 2025-11-15 | 0.1.0 | í¬ë¡¤ëŸ¬ ì´ˆê¸° ê°œë°œ |

ìì„¸í•œ ë³€ê²½ ì´ë ¥ì€ [CHANGELOG.md](CHANGELOG.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

---

## Phase 8: AI ë‰´ìŠ¤ í¬ë¡¤ëŸ¬ ì¶”ê°€ (2025-12-06)

### 8.1 ìš”êµ¬ì‚¬í•­
- ìƒˆë¡œìš´ AI ì•±/ë„êµ¬ ì¶œì‹œ ì†Œì‹ ìˆ˜ì§‘
- AI ë„êµ¬ í”„ë¡œëª¨ì…˜/í• ì¸ ì •ë³´ ìˆ˜ì§‘
- ê¸°ì¡´ êµ¬ê¸€ ì‹œíŠ¸ì— ìƒˆ ì›Œí¬ì‹œíŠ¸ë¡œ ì¶”ê°€

### 8.2 êµ¬í˜„ ë‚´ìš©

#### í¬ë¡¤ëŸ¬ ìŠ¤í¬ë¦½íŠ¸ (`ai_news_crawler.py`)
- **ë„¤ì´ë²„ ê²€ìƒ‰ API**: ë‰´ìŠ¤/ë¸”ë¡œê·¸ ê²€ìƒ‰
- **êµ¬ê¸€ ë‰´ìŠ¤ RSS**: RSS í”¼ë“œ íŒŒì‹±
- **ê²€ìƒ‰ í‚¤ì›Œë“œ**:
  - AI ë‰´ìŠ¤: "ìƒˆë¡œìš´ AI ì•±", "AI ë„êµ¬ ì¶œì‹œ", "ìƒì„±í˜• AI ì„œë¹„ìŠ¤", "AI ìŠ¤íƒ€íŠ¸ì—…"
  - AI í• ì¸: "AI ë„êµ¬ í• ì¸", "AI ì•± í”„ë¡œëª¨ì…˜", "AI ë¬´ë£Œ ì²´í—˜", "ChatGPT í• ì¸"

#### êµ¬ê¸€ ì‹œíŠ¸ ì—°ë™
- `upload_to_gsheet.py`ì— 'AIì†Œì‹' ì›Œí¬ì‹œíŠ¸ ì¶”ê°€
- ë°ì´í„° ì»¬ëŸ¼: ë¶„ë¥˜, ì¶œì²˜, ì œëª©, ë‚´ìš©, ë§í¬, ì‘ì„±ì¼, ìˆ˜ì§‘ì¼ì‹œ

#### GitHub Actions
- `daily-crawling.yml`ì— AI ë‰´ìŠ¤ í¬ë¡¤ëŸ¬ ë‹¨ê³„ ì¶”ê°€
- ë„¤ì´ë²„ API í‚¤ Secrets ì¶”ê°€ í•„ìš”: `NAVER_CLIENT_ID`, `NAVER_CLIENT_SECRET`

### 8.3 í…ŒìŠ¤íŠ¸ ê²°ê³¼
- ë¡œì»¬ ì‹¤í–‰: 123ê±´ ìˆ˜ì§‘ ì„±ê³µ (AI ë‰´ìŠ¤ 52ê±´, AI í• ì¸ 71ê±´)
- êµ¬ê¸€ ì‹œíŠ¸ ì—…ë¡œë“œ: 'AIì†Œì‹' ì›Œí¬ì‹œíŠ¸ì— 123ê±´ ì—…ë¡œë“œ ì™„ë£Œ

### 8.4 í¬ë¡¤ëŸ¬ v2 ì—…ê·¸ë ˆì´ë“œ (Playwright ì ìš©)
- **ìš”ì²­ì‚¬í•­**: ë” ì •í™•í•œ AI ì‹ ì œí’ˆ/í• ì¸ ì •ë³´ ìˆ˜ì§‘, êµ¬ê¸€ ê²€ìƒ‰ í¬í•¨
- **ë³€ê²½ ë‚´ìš©**:
  - ë„¤ì´ë²„ API â†’ Playwright í—¤ë“œë¦¬ìŠ¤ ë¸Œë¼ìš°ì €ë¡œ ì „í™˜
  - í¬ë¡¤ë§ ì†ŒìŠ¤: êµ¬ê¸€ ë‰´ìŠ¤ ê²€ìƒ‰, Product Hunt, AppSumo, Futurepedia, Reddit
  - ê²€ìƒ‰ í‚¤ì›Œë“œ: "ChatGPT new feature", "Claude AI update", "AI tool discount deal" ë“±
- **í…ŒìŠ¤íŠ¸ ê²°ê³¼**: 68ê±´ ìˆ˜ì§‘ (AI ì—…ë°ì´íŠ¸ 30, AI í• ì¸ 28, AI ì‹ ì œí’ˆ 10)
- **requirements.txt**: playwright==1.49.1 ì¶”ê°€
- **GitHub Actions**: playwright install chromium ë‹¨ê³„ ì¶”ê°€

### 8.5 í¬ë¡¤ëŸ¬ v3 ì—…ê·¸ë ˆì´ë“œ (GPT ê²€ì¦)
- **ìš”ì²­ì‚¬í•­**: AI ì‹ ì œí’ˆ/ì—…ë°ì´íŠ¸/í• ì¸ì— ê´€ë ¨ ì—†ëŠ” ë‰´ìŠ¤ ìë™ í•„í„°ë§
- **ë³€ê²½ ë‚´ìš©**:
  - GPT-4o-minië¡œ ìˆ˜ì§‘ëœ í•­ëª©ì˜ ê´€ë ¨ì„± ìë™ íŒì •
  - ê´€ë ¨ ê¸°ì¤€: AI ì•± ì¶œì‹œ, ì‹ ê¸°ëŠ¥ ì—…ë°ì´íŠ¸, í• ì¸/í”„ë¡œëª¨ì…˜
  - ë¹„ê´€ë ¨ ê¸°ì¤€: ê·œì œ/ì •ì±…, ì‹œì¥ ë¶„ì„, ì¼ë°˜ ë…¼ì˜
- **í…ŒìŠ¤íŠ¸ ê²°ê³¼**: 68ê±´ â†’ 51ê±´ (17ê±´ í•„í„°ë§)
- **ê¸°ì¡´ ë°ì´í„° ì •ë¦¬**: 194ê±´ â†’ 94ê±´ (100ê±´ ì‚­ì œ)
- **ëŒ€ì‹œë³´ë“œ ë¯¸í‘œì‹œ**: AIì†Œì‹ì€ ë³„ë„ ì‹œíŠ¸ì—ë§Œ ì €ì¥, ëŒ€ì‹œë³´ë“œì—ëŠ” í‘œì‹œí•˜ì§€ ì•ŠìŒ

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-12-06
**ì‘ì„±ì**: Claude Code
**í”„ë¡œì íŠ¸ ì €ì¥ì†Œ**: https://github.com/JSfa9586/crawlling



